# 컨텍스트 사용하기

> 해당 폴더의 파일은 context의 구성을 이해하기 위한 장으로, 현재는 사용하지 않는 방식이다.(리액트 16.3버전 이후 `contextAPI` 사용) 해당 폴더예제로 원리만 이해하고 넘어가자!(__그럼에도 불구하고.. 예제가 말을 안들음 ㅋㅋ^^__)

최상위 컴포넌트에서 하위 컴포넌트로 전달 될때 props의 데이터가 누락 될 수있으며, 값 변화가 없는 중간 컴포넌트 모두 다시 렌더 되며 리액트 성능에 문제가 생긴다. 이런 문제를 해결하기 위해 데이터가 필요한 곳에서만 직접 전달받는 방법이 컨텍스트의 흐림이 된다.

> **데이터 공급자가 관리하고 관찰자는 공급자를 구독하여 데이터를 얻는 방식**
>
> - 공급자 : 데이터 보관, 데이터 변경, 소비자에게 데이터 공급
> - **소비자**(옵저버, 컨슈머, 관찰자) : 공급자 구독, 데이터 소비 & 변경

**공급자에서 데이터를 소비자컴포로 직통 전달!**
[최상위컴포] - [공급자(data)] - [중간컴포] - [중간컴포] - [중간컴포] - [소비자컴포(data)]

## 공급자와 소비자의 관계

- 공급자 = 상위컴포 , 소비자 = 하위컴포
- 소비자는 **공급자가 제공하는 콜백함수**로 데이터 변경
- Data는 하위컴포로 내려가고, Action은 상위컴포로 올라간다!

## 공급자구현

최상위 컴포에 공급자의 자료형(`childContextTypes`), 데이터제공함수(`getChildContext()`)를 정의한다.

> 컨텍스트기능을 사용하기 위해선 공급자 컴포넌트(=최상위 컴포넌트)는 **클래스형 컴포넌트**로 구성해야 한다.

## 소비자구현

소비자가될 컴포넌트에 `contextTypes`속성을 추가하여 공급자에게 구독할 항목을 정의한다.
소비자에 항상 `contextTypes`를 구현해야 하는데 귀찮음으로 **HOC를 구현하여 사용**하도록 한다.

---

> ### 왜 .. 안되는가!?...
> 책을 보고 따라 작성했는데 안되는것은 왜일까염. 속터지구여.. 앗 보다보니 옛날방법이구요~!
> 리액트 16.3버전 이후 ContextAPI로 편입!.. 그래도 안되는건 이상하지만... 컨텍스트 API로 다시 진행 고오~

---